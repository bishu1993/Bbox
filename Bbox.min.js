
var myQuery,Bbox;(function(){myQuery=Bbox=function(f){return new a(f)};var a=function(f){var g=document.querySelectorAll(f);for(var h=0;h<g.length;h++){this[h]=g[h]}this.length=g.length;return this};myQuery.fn=a.prototype={open:function(){this.closeButton=null;this.modal=null;this.overlay=null;this.transitionEnd=b();var i={title:"",autoOpen:false,className:"fade-and-drop",sticky:false,closeButton:true,closeButtonIcon:"",closeIconInnerColor:"",closeIconOuterColor:"",hideOnOverlayClick:false,content:this[0].innerHTML,maxWidth:600,minWidth:280,overlay:true,overlayColor:"",overlayOpacity:"",bgColor:"#fff",scroll:false,url:"",urlParms:""};if(arguments[0]&&typeof arguments[0]==="object"){this.options=e(i,arguments[0])}if(this.options.autoOpen===true){this.open()}d.call(this);c.call(this);window.getComputedStyle(this.modal).height;var f=parseInt(window.innerHeight);var h=parseInt(window.getComputedStyle(this.modal).height);var g=(f-h)/2+"px";f>h?this.modal.style.top=g:"20px";this.modal.className=this.modal.className+(this.modal.offsetHeight>window.innerHeight?" Bbox-open Bbox-anchored":" Bbox-open");this.overlay.className=this.overlay.className+" Bbox-open";return this},close:function(){var f=this;this.modal.className=this.modal.className.replace("Bbox-open","");this.overlay.className=this.overlay.className.replace("Bbox-open","");this.overlay.removeAttribute("style");this.modal.addEventListener(this.transitionEnd,function(){f.modal.parentNode.removeChild(f.modal)});this.overlay.addEventListener(this.transitionEnd,function(){if(f.overlay.parentNode){f.overlay.parentNode.removeChild(f.overlay)}});return this}};function d(){var h,i,m;if(this.options.url){var l=new XMLHttpRequest();var f=this.options.url;if(this.options.urlParms){var g=this.options.urlParms}l.open("POST",f,true);l.setRequestHeader("Content-type","application/x-www-form-urlencoded");l.onreadystatechange=function(){if(l.readyState==4&&l.status==200){h=l.responseText}};if(this.options.urlParms){l.send(g)}}else{if(typeof this.options.content==="string"){h=this.options.content}else{h=this.options.content.innerHTML}}m=document.createDocumentFragment();this.modal=document.createElement("div");this.modal.className="Bbox-modal "+this.options.className;this.modal.className="Bbox-modal "+this.options.className;if(this.options.size){if(this.options.size==="big"){this.modal.style.minWidth="300px";this.modal.style.maxWidth="85%"}if(this.options.size==="medium"){this.modal.style.minWidth="300px";this.modal.style.maxWidth="60%"}if(this.options.size==="small"){this.modal.style.minWidth="300px";this.modal.style.maxWidth="40%"}}else{this.modal.style.minWidth=this.options.minWidth+"px";this.modal.style.maxWidth=this.options.maxWidth+"px"}if(this.options.sticky){this.modal.style.position="fixed";this.modal.style.minHeight="200px";this.modal.style.maxHeight="440px";this.modal.style.overflow="auto"}if(this.options.bgColor){this.modal.style.backgroundColor=this.options.bgColor}if(this.options.scroll){this.modal.style.overflowY="auto"}if(this.options.title){this.title=document.createElement("div");this.title.style.width="100%";this.title.style.height="40px";this.title.innerHTML='<h2 class="title">'+this.options.title+"</h2>";this.modal.appendChild(this.title)}if(this.options.closeButton===true){if(this.options.closeButtonIcon){this.closeButton=document.createElement("div");this.closeButton.setAttribute("class","Bbox-close close-button");this.closeButton.innerHTML='<img src="'+this.options.closeButtonIcon+'" alt="close" width="32px" height="32px"/>';this.modal.appendChild(this.closeButton)}else{this.closeButton=document.createElementNS("http://www.w3.org/2000/svg","svg");this.closeButton.setAttribute("height","32px");this.closeButton.setAttribute("width","32px");this.closeButton.setAttribute("viewBox","0 0 490.442 490.442");this.closeButton.setAttribute("class","Bbox-close close-button");var k=this.closeButton.namespaceURI;var n=document.createElementNS(k,"path");var j=document.createElementNS(k,"path");n.setAttributeNS(null,"d","M270.421,245.342l42-42c7.3-7.1,7.3-18.5,0.2-25.5c-7-7-18.4-7-25.5,0l-42,42l-42-42c-7-7-18.4-7-25.5,0    c-7,7-7,18.4,0,25.5l42,42l-42,42c-7,7-7,18.4,0,25.5c3.5,3.5,8.1,5.3,12.7,5.3c4.6,0,9.2-1.8,12.7-5.3l42-42l42,42    c3.5,3.5,8.1,5.3,12.7,5.3c4.6,0,9.2-1.8,12.7-5.3c7-7,7-18.4,0-25.5L270.421,245.342z");j.setAttributeNS(null,"d","M418.621,71.842c-7-7-18.4-7-25.4,0l-56,55.9c-7,7-7,18.4,0,25.5c7,7,18.4,7,25.5,0l42.7-42.7    c69.2,82.1,65.1,205.3-12.2,282.6c-39.5,39.5-92.1,61.3-148,61.3c-55.9,0-108.4-21.7-148-61.2c-81.6-81.6-81.6-214.3,0-295.9    c50.1-50.1,121.6-71.4,191.1-56.8c9.7,2,19.3-4.2,21.3-13.9c2-9.7-4.2-19.3-13.9-21.3c-81.4-17.2-165.1,7.7-223.9,66.5    c-46.3,46.3-71.8,107.9-71.8,173.4s25.5,127.1,71.8,173.4c46.3,46.3,107.9,71.8,173.4,71.8s127.1-25.5,173.4-71.8    s71.8-107.9,71.8-173.4S464.921,118.142,418.621,71.842.1z");if(this.options.closeIconInnerColor){n.setAttributeNS(null,"fill",this.options.closeIconInnerColor)}else{n.setAttributeNS(null,"fill","#FA7575")}if(this.options.closeIconOuterColor){j.setAttributeNS(null,"fill",this.options.closeIconOuterColor)}else{j.setAttributeNS(null,"fill","#FA7575")}this.closeButton.appendChild(n);this.closeButton.appendChild(j);this.modal.appendChild(this.closeButton)}}if(this.options.overlay===true){this.overlay=document.createElement("div");this.overlay.className="Bbox-overlay "+this.options.className;if(this.options.overlayColor){this.overlay.style.backgroundColor=this.options.overlayColor}if(this.options.overlayOpacity){this.overlay.style.opacity=this.options.overlayOpacity}m.appendChild(this.overlay)}i=document.createElement("div");i.className="Bbox-content";i.innerHTML=h;this.modal.appendChild(i);m.appendChild(this.modal);document.body.appendChild(m)}function c(){if(this.closeButton){this.closeButton.addEventListener("click",this.close.bind(this))}if(this.overlay){if(this.options.hideOnOverlayClick){this.overlay.addEventListener("click",this.close.bind(this))}}}function e(h,f){var g;for(g in f){if(f.hasOwnProperty(g)){h[g]=f[g]}}return h}function b(){var f=document.createElement("div");if(f.style.WebkitTransition){return"webkitTransitionEnd"}if(f.style.OTransition){return"oTransitionEnd"}if(f.style.MozTransition){return"mozTransitionEnd"}return"transitionend"}}());